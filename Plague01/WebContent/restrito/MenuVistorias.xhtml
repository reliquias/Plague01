<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags">

	<h:form id="vistoriasForm"> 
		<p:commandButton action="#{vistoriaMB.editar}" value="Ver" ajax="false"/>
		<h:panelGrid columns="1" style="margin-bottom:10px" cellpadding="5">
		<h:inputHidden value="#{vistoriaMB.vistoriaId}" id="vistoriaId"/>
		<p:spacer/>
<!-- 		<h:outputLabel value="Vistorias" for="vistorias"/> -->
			<h:selectOneMenu id="vistorias" value="#{vistoriaMB.vistoria.responsavel}" title="Vistorias" converter="simpleEntityConverter" onchange="setVistoriaId(this.value)">
            <f:selectItems value="#{vistoriaMB.itemsAvailableSelectOne}"/>
		</h:selectOneMenu> 
		</h:panelGrid>
		<script type="text/javascript">
			function setVistoriaId(idVistoria) {
				var str = document.getElementById("vistoriasForm:vistorias").value;
				document.getElementById("vistoriasForm:vistoriaId").value = str;
// 				alert(str);
			}
		</script>
	</h:form>
</ui:fragment>